<html>
    <head>
        <script src="engine.mjs"></script>
        <script src="rendering.mjs"></script>
    </head>
    <body>
        <canvas id="game" width="600" height="600"></canvas>
    
    <script>
        Vars.world = new world(64, 64);
        Vars.renderer = new canvasRenderer(document.getElementById("game"));
        Vars.world.objects.push(new rect(0.25, 5, 6,2,2,0.8,7));
        //push some random rects
        for(var i = 0; i < 10; i++){
            //dont touch size
            //vary x,y,vx,vy
            //x between 0 and 30
            //y between 5 and 30
            //vx between -1 and 1
            //vy between -1 and 1
            Vars.world.objects.push(new rect(Math.random()*2, Math.random()*30, Math.random()*30+3, 3, 3, Math.random()*2-1, Math.random()*2-1));
        }

        //wall box
        Vars.world.objects.push(new wall(2,2,2,30));
        Vars.world.objects.push(new wall(2,2,30,2));
        Vars.world.objects.push(new wall(2,32,30,2));
        Vars.world.objects.push(new wall(32,2,2,30));
        Vars.world.objects.push(new wall(32,32,2,30));
        Vars.world.objects.push(new wall(32,2,30,2));
        Vars.world.objects.push(new wall(32,32,30,2));
        Vars.world.objects.push(new wall(2,2,2,30));


        //frame
        let lastTime = performance.now();
        let frame = function(time){
            let delta = (time - lastTime);
            lastTime = time;
            Vars.world.update(delta/6000);
            Vars.renderer.render(Vars.world);
            requestAnimationFrame(frame);
        }
        requestAnimationFrame(frame);
        

    </script>
    </body>
</html>