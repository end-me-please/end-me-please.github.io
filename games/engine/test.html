<html>
    <head>
        <script src="engine.mjs"></script>
        <script src="rendering.mjs"></script>
    </head>
    <body>
        <canvas id="game" width="600" height="600"></canvas>
        <p>blue dot: center of mass</br>red line: from center of mass to origin of the cluster</br>blue line: force being applied</p>
        <p>(clicking does nothing, this site isnt interactive)</p>
    <script>
        Vars.world = new world(64, 64);
        Vars.renderer = new canvasRenderer(document.getElementById("game"));
        let testCluster = new cluster(new vector(10, 10),Math.floor(Math.random()*1000));
        
        //the clusterPart constructor: constructor(parent,type="ohno",x=0,y=0,rotation=0,mass=1)
        
        let testpart1 = new clusterPart(testCluster,"ohno",2,0,0,1);
        let testpart2 = new clusterPart(testCluster,"ohno",1,0,0,1);
        let testpart3 = new clusterPart(testCluster,"ohno",0,0,0,1);
        let testpart4 = new clusterPart(testCluster,"ohno",-1,0,0,1);
        let testpart5 = new clusterPart(testCluster,"ohno",-2,0,0,1);
        //let testpart6 = new clusterPart(testCluster,"ohno",-3,1,0,1);
        //let testpart7 = new clusterPart(testCluster,"ohno",-3,2,0,5);

        testCluster.members.push(testpart1);
        testCluster.members.push(testpart2);
        testCluster.members.push(testpart3);
        testCluster.members.push(testpart4);
        testCluster.members.push(testpart5);
        //testCluster.members.push(testpart6);
        //testCluster.members.push(testpart7);
        

        Vars.world.clusters.push(testCluster);

        //frame
        let lastTime = performance.now();
        let frame = function(time){
            let delta = (time - lastTime);
            lastTime = time;
            testCluster.applyForce(new vector(0,0),new vector(0,1));
            testCluster.applyForce(new vector(0,0),new vector(0.5,-1));
            Vars.world.update(delta/600);
            Vars.renderer.render(Vars.world);
            requestAnimationFrame(frame);
        }
        requestAnimationFrame(frame);
        

    </script>
    </body>
</html>